<!--
PROMO PAGE
Displays items
Displays prices
min / max price shown (price with no accessories and all accessories)
add new bike (go to new-bike view)
edit bike
remove bike
Display parsed weather API info
-->

<div>
  <h1>Bits and Bikes</h1>
  <table>
    <thead>
      <tr>
        <th>
          Accessory
        </th>
        <th>
          Year
        </th>
        <th>
          Owners
        </th>
        <th>
          Bike Base Cost
        </th>
        <th>
          Total Cost
        </th>
        <th colspan="6">
          Remove
        </th>
    </thead>
    <tr ng-repeat="bike in bikes.allBikes.list()">
      <td ng-click="bikes.editBike(bike)">
        {{bike.name}}
      </td>
      <td>
        {{bike.year}}
      </td>
      <td>
        {{bike.previousOwners}}
      </td>
      <td>
        {{bike.price | currency}}
      </td>
      <td>
        {{bike.getTotalCost() | currency}}
      </td>
      <td>
        <button ng-click="bikes.allBikes.remove(bike)">X</button>
        <!-- this link takes us to the edit page for the bike with $index -->
        <a class="edit-bike" href="#/bikes/edit/{{$index}}">+ Modify</a>
      </td>
    </tr>
  </table>
  <div class="new-deal-content-wrap">
      <h2>Add New Deal</h2>
      <a class="new-deal" href="#/bikes/new">+ New Item</a>
  </div>

  <div>
    <!-- controller for everything one this pg is 'bikes' -->
    <ul class="weather-locale">City: {{bikes.location}}
      <li class="weather-content"> {{bikes.currentWeather}}, {{bikes.currentTemp}}&#8457;</li>
      <li class="weather-content">High: {{bikes.tempHigh}}&#8457; Low: {{bikes.tempLow}}&#8457;</li>
    </ul>
  </div>
</div>
